"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[590],{3679:function(e,t,n){n.d(t,{M:function(){return x}});var r=n(89555),s=n(16934),i=n(68048),a=n(48443),o=n(39330),l=n(88464),c=n(31014),u=n(96070),d=n(6604),m=n(88443),p=n(9133),g=n(28380),f=n(50111);const h="tooltipLastPopup";var b={name:"c61v0h",styles:".du-bois-light-select-item-option-active:not(.du-bois-light-select-item-option-disabled){background-color:#e6f1f5;}"},v={name:"9gxvqt",styles:"display:flex;gap:4px;align-items:center"};const x=({baseOptions:e,searchFilter:t,requestError:n=null,onSearchFilterChange:x,onClear:_,tooltipContent:w,placeholder:Y,useQuickFilter:y,defaultActiveFirstOption:S=!0,className:k})=>{const{theme:I,getPrefixedClassName:z}=(0,s.u)(),C=(0,c.useRef)(null),A=(0,l.A)(),[F,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(void 0),[H,R]=(0,c.useState)(!1),[E,D]=(0,c.useState)(!1),[$,B]=(0,c.useState)({Metrics:10,Parameters:10,Tags:10}),P=(0,c.useRef)([]),[q,K]=(0,c.useState)(void 0);(0,c.useEffect)((()=>{L(t)}),[t]),(0,c.useEffect)((()=>{const e=P.current,t=(0,u.jP)(F);if(P.current=t,E)return void D(!1);const n=t.map((e=>e.name)),r=e.map((e=>e.name));if(!(0,p.isEqual)(n,r)&&t.length>=e.length){let n=0;for(;n<t.length;){if(n>=e.length||t[n].name.trim()!==e[n].name.trim())return N(!0),void K(t[n]);n++}}N(!1)}),[F]);const O=(0,c.useMemo)((()=>q?(0,u.M8)(e,q,$):[]),[e,q,$]),T=(0,c.useCallback)(((e,t)=>{if(q)if(e.startsWith("...")){N(!0);const e=t.value.split("_")[1];B((t=>({...t,[e]:t[e]+10})))}else{const t=F.substring(0,q.startIndex),n=F.substring(q.endIndex);L(t+e+" "+n),D(!0),N(!1)}}),[F,L,q,N]),j=(0,g.S)(h),[Q,W]=(0,c.useState)((()=>{const e=Math.floor(Date.now()/1e3),t=j.getItem(h);return!t||parseInt(t,10)<e-604800})),U=c.useRef(null),V=(0,c.useMemo)((()=>{if(y&&F.length>0&&!(0,d.cK)(F))return(0,d.jA)(F)}),[F,y]);(0,c.useEffect)((()=>{if(n&&Q){var e;const t=Math.floor(Date.now()/1e3);j.setItem(h,t),W(!1),null===(e=U.current)||void 0===e||e.click()}}),[n]);const Z=0===O.flatMap((e=>e.options)).length,G=M&&H&&!Z,J=(0,c.useCallback)((e=>{var t;const n=z("select-item-option-active"),r=Boolean(null===(t=C.current)||void 0===t?void 0:t.querySelector(`.${n}`));"Enter"===e.key&&(G&&N(!1),G&&r||x(F)),"Escape"===e.key&&(e.preventDefault(),G&&N(!1))}),[G,F,x,z]);return(0,f.Y)("div",{css:(0,r.AH)({display:"flex",gap:I.spacing.sm,width:430,[I.responsive.mediaQueries.xs]:{width:"auto"}},""),className:k,children:(0,f.Y)(i.AutoComplete,{dropdownMatchSelectWidth:560,css:(0,r.AH)({width:560,[I.responsive.mediaQueries.xs]:{width:"auto"}},""),defaultOpen:!1,defaultActiveFirstOption:S&&!y,open:G,options:O,onSelect:T,value:F,"data-testid":"runs-search-autocomplete",dropdownRender:e=>(0,f.Y)("div",{css:b,ref:C,children:e}),children:(0,f.Y)(o.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_236",value:F,prefix:(0,f.Y)(o.S,{css:(0,r.AH)({svg:{width:I.general.iconFontSize,height:I.general.iconFontSize,color:I.colors.textSecondary}},"")}),onKeyDown:J,onClick:()=>R(!0),onBlur:()=>R(!1),onChange:e=>L(e.target.value),placeholder:Y,"data-testid":"search-box",suffix:(0,f.FD)("div",{css:v,children:[F&&(0,f.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_212",onClick:()=>{_(),L("")},type:"link","data-testid":"clear-button",children:(0,f.Y)(s.C,{})}),V?(0,f.Y)(a.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_310",content:(0,f.Y)(m.A,{id:"ESmLOR",defaultMessage:"Using regular expression quick filter. The following query will be used: {filterSample}",values:{filterSample:(0,f.Y)("div",{children:(0,f.Y)("code",{children:V})})}}),delayDuration:0,children:(0,f.Y)(i.InfoFillIcon,{"aria-label":A.formatMessage({id:"ESmLOR",defaultMessage:"Using regular expression quick filter. The following query will be used: {filterSample}"},{filterSample:V}),css:(0,r.AH)({svg:{width:I.general.iconFontSize,height:I.general.iconFontSize,color:I.colors.actionPrimaryBackgroundDefault}},"")})}):(0,f.Y)(i.LegacyTooltip,{title:w,placement:"right",dangerouslySetAntdProps:{overlayInnerStyle:{width:"150%"},trigger:["focus","click"]},children:(0,f.Y)(s.B,{size:"small",ref:U,componentId:"mlflow.experiment_page.search_filter.tooltip",type:"link",css:(0,r.AH)({marginLeft:-I.spacing.xs,marginRight:-I.spacing.xs},""),icon:(0,f.Y)(a.I,{css:(0,r.AH)({svg:{width:I.general.iconFontSize,height:I.general.iconFontSize,color:I.colors.textSecondary}},"")})})})]})})})})}},12897:function(e,t,n){n.d(t,{D:function(){return g}});var r=n(31014),s=n(3679),i=n(88443),a=n(47664),o=n(50111);const l=()=>(0,o.FD)("div",{className:"search-input-tooltip-content",children:[(0,o.Y)(i.A,{id:"kIlkgf",defaultMessage:"Search runs using a simplified version of the SQL {whereBold} clause.",values:{whereBold:(0,o.Y)("b",{children:"WHERE"})}})," ",(0,o.Y)(i.A,{id:"nYKZy4",defaultMessage:"<link>Learn more</link>",values:{link:e=>(0,o.Y)("a",{href:a.Lm,target:"_blank",rel:"noopener noreferrer",children:e})}}),(0,o.Y)("br",{}),(0,o.Y)(i.A,{id:"U3btBc",defaultMessage:"Examples:"}),(0,o.Y)("br",{}),"\u2022 metrics.rmse >= 0.8",(0,o.Y)("br",{}),"\u2022 metrics.`f1 score` < 1",(0,o.Y)("br",{}),"\u2022 params.model = 'tree'",(0,o.Y)("br",{}),"\u2022 attributes.run_name = 'my run'",(0,o.Y)("br",{}),"\u2022 tags.`mlflow.user` = 'myUser'",(0,o.Y)("br",{}),"\u2022 metric.f1_score > 0.9 AND params.model = 'tree'",(0,o.Y)("br",{}),"\u2022 dataset.name IN ('dataset1', 'dataset2')",(0,o.Y)("br",{}),"\u2022 attributes.run_id IN ('a1b2c3d4', 'e5f6g7h8')",(0,o.Y)("br",{}),"\u2022 tags.model_class LIKE 'sklearn.linear_model%'"]});var c=n(96070),u=n(91144);const d=["run_id","run_name","status","artifact_uri","user_id","start_time","end_time","created"].map((e=>({value:`attributes.${e}`}))),m=(e,t)=>[...new Set([...e,...t])],p=e=>e.flatMap((e=>Object.keys(e))),g=({runsData:e,...t})=>{const n=(0,r.useRef)({metricNames:[],paramNames:[],tagNames:[]}),i=(0,r.useMemo)((()=>{const t=n.current,r=(s=e,{metricNames:m((i=t).metricNames,s.metricKeyList),paramNames:m(i.paramNames,s.paramKeyList),tagNames:(0,c.tY)(m(p(i.tagNames),p(s.tagsList)))});var s,i;return n.current=r,(0,c.$K)(r,d)}),[e]);return(0,o.Y)(s.M,{...t,baseOptions:i,tooltipContent:(0,o.Y)(l,{}),placeholder:'metrics.rmse < 1 and params.model = "tree"',useQuickFilter:(0,u.ey)()})}},28380:function(e,t,n){n.d(t,{S:function(){return i}});var r=n(31014),s=n(32614);const i=e=>(0,r.useMemo)((()=>s.A.getStoreForComponent("ExperimentView",e)),[e])},42550:function(e,t,n){n.d(t,{t:function(){return d},z:function(){return m}});var r=n(89555),s=n(16934),i=n(31014),a=n(15230),o=n(21879),l=n(50111);var c={name:"1h0bf8r",styles:"body, :host{user-select:none;}"},u={name:"5ob2ly",styles:"display:flex;position:relative"};const d=({runListHidden:e,width:t,onResize:n,children:s,onHiddenChange:d,maxWidth:p})=>{const g=(0,o.e)(),[f,h]=(0,i.useState)(!1);return(0,l.FD)(l.FK,{children:[(0,l.Y)(a.ResizableBox,{css:u,style:{flex:`0 0 ${e?0:t}px`},width:t,axis:"x",resizeHandles:["e"],minConstraints:[250,0],maxConstraints:void 0===p?void 0:[p,0],handle:(0,l.Y)(m,{runListHidden:e,updateRunListHidden:e=>{d?d(e):g((t=>({...t,runListHidden:e})))}}),onResize:(t,{size:r})=>{e||n(r.width)},onResizeStart:()=>!e&&h(!0),onResizeStop:()=>h(!1),children:s}),f&&(0,l.Y)(r.mL,{styles:c})]})},m=i.forwardRef((({updateRunListHidden:e,runListHidden:t,...n},i)=>{const{theme:a}=(0,s.u)();return(0,l.FD)("div",{ref:i,...n,css:(0,r.AH)({transition:"opacity 0.2s",width:0,overflow:"visible",height:"100%",position:"relative",zIndex:10,display:"flex",opacity:t?1:0,"&:hover":{opacity:1,".bar":{opacity:1},".button":{border:`2px solid ${a.colors.actionDefaultBorderHover}`}}},""),children:[(0,l.Y)("div",{css:(0,r.AH)({position:"absolute",left:-a.general.iconSize/2,width:a.general.iconSize,cursor:t?void 0:"ew-resize",height:"100%",top:0,bottom:0},""),children:(0,l.Y)("div",{className:"button",css:(0,r.AH)({top:"50%",transition:"border-color 0.2s",position:"absolute",width:a.general.iconSize,height:a.general.iconSize,backgroundColor:a.colors.backgroundPrimary,borderRadius:a.general.iconSize,overflow:"hidden",border:`1px solid ${a.colors.border}`,display:"flex",alignItems:"center",justifyContent:"center",zIndex:11},""),children:(0,l.Y)(s.B,{componentId:"mlflow.experiment_page.table_resizer.collapse",onClick:()=>e(!t),icon:t?(0,l.Y)(s.q,{}):(0,l.Y)(s.o,{}),size:"small"})})}),(0,l.Y)("div",{className:"bar",css:(0,r.AH)({position:"absolute",opacity:0,left:-1.5,width:3,height:"100%",top:0,bottom:0,backgroundColor:a.colors.actionPrimaryBackgroundDefault},"")})]})}))},96070:function(e,t,n){n.d(t,{$K:function(){return o},M8:function(){return d},jP:function(){return u},tY:function(){return a}});var r=n(31014),s=n(98590),i=n(50111);const a=e=>e.filter((e=>!e.startsWith(s.nt))).map((e=>e.includes('"')||e.includes(" ")||e.includes(".")?`\`${e}\``:e.includes("`")?`"${e}"`:e)),o=(e,t)=>[{label:"Metrics",options:e.metricNames.map((e=>({value:`metrics.${e}`})))},{label:"Parameters",options:e.paramNames.map((e=>({value:`params.${e}`})))},{label:"Tags",options:e.tagNames.map((e=>({value:`tags.${e}`})))},{label:"Attributes",options:t}];var l={name:"lugakg",styles:"font-weight:normal"};const c=(e,t)=>{const n=e.split(RegExp(t.replace(".","\\."),"ig")),s=e.match(RegExp(t.replace(".","\\."),"ig"));return(0,i.Y)("span",{css:l,"data-testid":e,children:n.map(((e,t)=>(0,i.FD)(r.Fragment,{children:[e,t!==n.length-1&&s&&(0,i.Y)("b",{children:s[t]})]},t)))})},u=e=>{const t=/>|<|>=|<=|=|!=|like|ilike/gi,n=(e=>{const t=/and[\s]+/gi,n=[];let r,s;for(;s=t.lastIndex,r=t.exec(e);)n.push({clause:e.substring(s,r.index),startIndex:s});return n.push({clause:e.substring(s),startIndex:s}),n})(e),r=[];return n.forEach((e=>{const n=e.clause.split(t)[0],{startIndex:s}=e;r.push({name:n,startIndex:0+s,endIndex:n.length+s})})),r},d=(e,t,n)=>e.map((e=>{const r=e.options.filter((e=>e.value.toLowerCase().includes(t.name.toLowerCase().trim()))).map((e=>({value:e.value,label:c(e.value,t.name.trim())}))),s=n[e.label],i=[...r.slice(0,s),...r.length>s?[{label:"...",value:`..._${e.label}`}]:[]];return{label:e.label,options:i}})).filter((e=>e.options.length>0))}}]);
//# sourceMappingURL=590.b19ebea6.chunk.js.map